<%# app/views/layouts/application.html.erb %>
<!DOCTYPE html>
<html>
  <head>
    <title>Viewd</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <%# Set the background color globally to dark %>
  <body style="background-color: #14181c; color: #9ab; margin: 0; font-family: sans-serif;">
    <% if flash[:alert] %>
      <div style="background-color: #dc3545; color: white; display: flex; justify-content: center; align-items: center; height: 50px; position: fixed; width: 100%; z-index: 5000;">
        <%= flash[:alert] %>
      </div>
    <% end %>
    
    <%# GLOBAL NAVBAR %>
    <nav style="background: #14181c; border-bottom: 1px solid #2c3440; padding: 15px 10%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000;">
      <div style="display: flex; align-items: center; gap: 20px;">
        <h2 style="color: #fff; margin: 0; letter-spacing: 2px;">VIEWD</h2>
        <div style="display: flex; gap: 15px; color: #9ab; font-size: 0.8rem; font-weight: bold; text-transform: uppercase;">
          <%= link_to "Films", root_path, style: "text-decoration: none; color: inherit;" %>
          <span>Lists</span>
        </div>
      </div>
      <div style="display: flex; align-items: center; gap: 20px;">
        <%= form_with url: movies_path, method: :get, local: true do |f| %>
          <%= f.text_field :query, value: params[:query], placeholder: "Search movies...", style: "background: #2c3440; border: none; border-radius: 20px; padding: 8px 15px; color: white; width: 250px;" %>
        <% end %>
        <%# Link to the Profile %>
        <%= link_to user_path(User.first), style: "text-decoration: none; color: #fff; font-weight: bold;" do %>
          Profile
        <% end %>
      </div>
    </nav>

    <%# Use a container for the movies index to prevent it from hitting the edges %>
    <main style="max-width: 1200px; margin: 0 auto; padding: 40px 20px;">
      <%= yield %>
    </main>
  </body>
</html>