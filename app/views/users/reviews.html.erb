<div style="background-color: #14181c; color: #9ab; font-family: 'Graphik', -apple-system, BlinkMacSystemFont, 'Helvetica Neue', Arial, sans-serif; padding: 40px 20px; min-height: 100vh;">
  
  <div style="max-width: 950px; margin: 0 auto;">
    
    <div style="border-bottom: 1px solid #2c3440; padding-bottom: 10px; margin-bottom: 20px;">
      <h2 style="color: #9ab; font-size: 13px; text-transform: uppercase; letter-spacing: 1.2px; margin: 0;">Reviews of</h2>
      <h1 style="color: #fff; font-size: 26px; margin: 5px 0; font-family: serif; font-weight: bold;">
        <%= @user.name %> 
      </h1>
    </div>


    <% if @reviews.any? %>
      <div style="display: flex; flex-direction: column;">
        <% @reviews.each do |review| %>

          <div onclick="window.location='<%= review_path(review) %>'"
               style="display: flex; gap: 20px; padding-bottom: 25px; margin-bottom: 25px; border-bottom: 1px solid #2c3440; cursor: pointer;">
            
            <div style="flex-shrink: 0;">
              <%= link_to movie_path(review.movie) do %>
                <%= image_tag review.movie.poster_url, onclick: "event.stopPropagation();",
                  style: "width: 70px; height: 105px; object-fit: cover; border-radius: 4px; border: 1px solid #456;" %>
              <% end %>
            </div>

            <div style="flex-grow: 1;">
              <div style="display: flex; align-items: baseline; gap: 10px; margin-bottom: 8px;">
                <h3 style="color: #fff; margin: 0; font-size: 18px; font-family: serif;">
                  <%= review.movie.title %>
                </h3>
                <span style="color: #89a; font-size: 14px;">
                  <%= review.movie.release_date.strftime("%Y") if review.movie.release_date.present? %>
                </span>
              </div>

              <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                <span style="color: #00e054; font-size: 16px; letter-spacing: 1px;">
                  <%# Example logic for stars %>
                  <%@rating = Rating.find_by(user: review.user, movie: review.movie).rating%>
                  <%= "★" * (@rating || 0) %>
                </span>
                
                <span style="color: #678; font-size: 13px;">
                  Watched on <%= review.created_at.strftime("%d %b %Y") %>
                </span>
              </div>

              <div style="color: #bcd; font-size: 15px; line-height: 1.6; margin-bottom: 15px;">
                <%= review.content %>
              </div>

              <div style="display: flex; align-items: center; gap: 15px;">
                <%= button_to toggle_like_movie_review_path(review.movie, review),
                      method: :post, onclick: "event.stopPropagation();",
                      style: "background:none; border:none; cursor:pointer; padding:0; display:inline-flex; align-items:center; gap:6px;" do %>
                  
                  <span style="color: <%= review.likes.exists?(user: @current_user) ? '#ff8000' : '#678' %>; font-size: 14px;">
                    ❤
                  </span>
                  <span style="color: #678; font-size: 13px;">
                    <%= number_with_delimiter(review.likes.count) %> <span style="font-size: 11px;">LIKES</span>
                  </span>
                <% end %>

                <% if @current_user == @user %>
                  <div style="display: flex; gap: 10px; margin-left: auto;">
                    <%= link_to "Edit", edit_movie_review_path(review.movie, review), 
                        onclick: "event.stopPropagation();",
                        style: "color: #678; text-decoration: none; font-size: 12px; border: 1px solid #456; padding: 2px 8px; border-radius: 3px;" %>
                    
                    <%= button_to "Delete", movie_review_path(review.movie, review), 
                        onclick: "event.stopPropagation();",
                        method: :delete,
                        data: { confirm: "Delete this review?" },
                        style: "background: transparent; color: #cc4444; border: 1px solid #933; font-size: 12px; padding: 2px 8px; border-radius: 3px; cursor: pointer;" %>
                  </div>
                <% end %>
              </div>
            </div>

          </div>
        <% end %>
      </div>
    <% else %>
      <div style="text-align: center; padding: 100px 0; color: #456; border-top: 1px solid #2c3440;">
        <p style="font-style: italic;">No reviews yet.</p>
      </div>
    <% end %>

  </div>
</div>